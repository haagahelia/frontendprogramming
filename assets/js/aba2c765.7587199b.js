"use strict";(self.webpackChunkfrontendcourse=self.webpackChunkfrontendcourse||[]).push([[4955],{8101:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=t(5893),i=t(1151);const r={title:"List Handling",sidebar_position:5},a=void 0,l={id:"networking/listhandling",title:"List Handling",description:"map()",source:"@site/docs/networking/listhandling.md",sourceDirName:"networking",slug:"/networking/listhandling",permalink:"/frontendprogramming/docs/networking/listhandling",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/networking/listhandling.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"List Handling",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Example",permalink:"/frontendprogramming/docs/networking/fetchexample"},next:{title:"React Project",permalink:"/frontendprogramming/docs/category/react-project"}},o={},d=[{value:"map()",id:"map",level:3},{value:"List handling",id:"list-handling",level:3},{value:"List handling example",id:"list-handling-example",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"map",children:"map()"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"First, it is good to learn JavaScript function that is really useful with arrays."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"map()"})," function creates a new array with the results of calling a function for every array element."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"let arrA = [1, 2, 3];\nlet arrB = arrA.map(x => x * 2);\n// arrB = [2, 4, 6]\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"map"})," statement above returns a new array with values multiplied by 2."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["See the nice emoji explanation By Joe Devilla\n(",(0,s.jsx)(n.a,{href:"https://www.globalnerdy.com/2016/06/23/map-filter-and-reduce-explained-using-emoji/",children:"https://www.globalnerdy.com/2016/06/23/map-filter-and-reduce-explained-using-emoji/"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"list-handling",children:"List handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The following example creates a state that is an array of numbers."}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.code,{children:"return"})," statement, the ",(0,s.jsx)(n.code,{children:"map"})," function is used to iterate over the ",(0,s.jsx)(n.code,{children:"numbers"})," array state, and for each item, it creates a ",(0,s.jsx)(n.code,{children:"li"})," element with the content of the item."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Note!"})," ",(0,s.jsx)(n.code,{children:"key"})," string attribute is needed in the lists. That helps React to identify which rows have changed. The ",(0,s.jsx)(n.code,{children:"map"})," method has a second argument, that is running index and we use that in the following example."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",metastring:"live",live:!0,children:"function MyList() {\n  const [numbers, setNumbers] = React.useState([1, 2, 3, 4, 5]);\n\n  return (\n    <div>\n      <ul>\n        { numbers.map((number, index) =>\n          <li key={index}>Listitem {number}</li>) }\n      </ul>\n    </div>\n  );\n}\n\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["The use of index is not recommended in proper apps because it can cause bugs if a list is reordered or you add or delete list items. Instead of that, you should use a unique key from the data if it exists. There are also libraries available that you can use to generate unique IDs, such as uuid (",(0,s.jsx)(n.a,{href:"https://github.com/uuidjs/uuid",children:"https://github.com/uuidjs/uuid"}),")"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"list-handling-example",children:"List handling example"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The next example fetches an array of listitems from the REST API and store it to React state."}),"\n",(0,s.jsxs)(n.li,{children:["The REST API to be used is ",(0,s.jsx)(n.strong,{children:"Reqres.in"})," fake API, and the following URL returns a list of fake users (",(0,s.jsx)(n.a,{href:"https://reqres.in/api/users",children:"https://reqres.in/api/users"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Persons example",src:t(9426).Z+"",width:"568",height:"337"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["We need an array to store a list of persons; therefore, we create a state called ",(0,s.jsx)(n.code,{children:"listItems"})," and initialize that to an empty array. Then, we use the ",(0,s.jsx)(n.code,{children:"useEffect"})," hook to send a request once after the first render."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const [listItems, setListItems] = React.useState([]);\n\nReact.useEffect(() => {\n  fetch('https://reqres.in/api/users')\n  .then(response => { \n    if (!response.ok)\n      throw new Error(\"Error in fetch: \" + response.statusText);  \n    \n    return response.json();\n  }) \n  .then(responseData => { \n    setListItems(responseData.data)\n  }) \n  .catch(err => console.error(err)\n}, [])\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"return"})," statement looks the following:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"return (\n  <div>\n    <h2>Persons</h2>\n    <table>\n      <tbody>\n        <tr><th>First name</th><th>Last name</th><th>Email</th></tr>\n        { listItems.map((person) => \n            <tr key={person.id}>\n              <td>{person.first_name}</td>\n              <td>{person.last_name}</td>\n              <td>{person.email}</td>\n            </tr> }\n      </tbody>\n    </table>\n  </div>\n);\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now, the list should look like the following screenshot:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(8521).Z+"",width:"479",height:"366"})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},9426:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/persons-7349593fe1d82d117047b51f96dfb12f.png"},8521:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/persons2-5084da0ad185ba93d149e9dd55fb39d1.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>a});var s=t(7294);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkfrontendcourse=self.webpackChunkfrontendcourse||[]).push([[1140],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var i=t(96540);const d={},o=i.createContext(d);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},28824:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"3rdpartycomponents/datagrid","title":"DataGrid","description":"MUI has a product called MUI X (https://mui.com/x/) that provides advaced components such as data grid, charts and date picker.","source":"@site/docs/3rdpartycomponents/datagrid.md","sourceDirName":"3rdpartycomponents","slug":"/3rdpartycomponents/datagrid","permalink":"/frontendprogramming/docs/3rdpartycomponents/datagrid","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"DataGrid","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Material UI","permalink":"/frontendprogramming/docs/3rdpartycomponents/mui"},"next":{"title":"Routing","permalink":"/frontendprogramming/docs/3rdpartycomponents/router"}}');var d=t(74848),o=t(28453);const r={title:"DataGrid",sidebar_position:5},s=void 0,a={},l=[{value:"Install DataGrid",id:"install-datagrid",level:4},{value:"Unique id",id:"unique-id",level:3},{value:"Import DataGrid component and define columns",id:"import-datagrid-component-and-define-columns",level:3},{value:"Display DataGrid",id:"display-datagrid",level:3},{value:"Column properties",id:"column-properties",level:3},{value:"Delete functionality",id:"delete-functionality",level:3},{value:"Further reading",id:"further-reading",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["MUI has a product called ",(0,d.jsx)(n.strong,{children:"MUI X"})," (",(0,d.jsx)(n.a,{href:"https://mui.com/x/",children:"https://mui.com/x/"}),") that provides advaced components such as data grid, charts and date picker.\nNow, we will replace the HTML table with the ",(0,d.jsx)(n.code,{children:"DataGrid"})," in our Todolist app. Then, we can easily add useful features such as sorting, filtering, etc. to our todo list app."]}),"\n",(0,d.jsx)(n.h4,{id:"install-datagrid",children:"Install DataGrid"}),"\n",(0,d.jsxs)(n.p,{children:["To start use MUI X ",(0,d.jsx)(n.code,{children:"DataGrid"})," component, you have to install it using the following npm command:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm install @mui/x-data-grid\n"})}),"\n",(0,d.jsx)(n.h3,{id:"unique-id",children:"Unique id"}),"\n",(0,d.jsxs)(n.p,{children:["Material UI's ",(0,d.jsx)(n.code,{children:"DataGrid"})," component requires each row to have a unique identifier. By default, the ",(0,d.jsx)(n.code,{children:"DataGrid"})," looks for a property named ",(0,d.jsx)(n.code,{children:"id"})," in the data set to get that identifier. Our current todo items lack this unique identifier. If the row's identifier is not called ",(0,d.jsx)(n.code,{children:"id"}),", then you need to use the ",(0,d.jsx)(n.code,{children:"getRowId"})," prop to tell the ",(0,d.jsx)(n.code,{children:"DataGrid"})," what field to uses."]}),"\n",(0,d.jsxs)(n.p,{children:["Typically, data fetched from a REST API includes unique identifiers. In our case, we don't have a unique identifier in todo items. Let's update our app to include unique ids for our todo items using the ",(0,d.jsx)(n.code,{children:"uuid"})," library (",(0,d.jsx)(n.a,{href:"https://github.com/uuidjs/uuid",children:"https://github.com/uuidjs/uuid"}),"), which can be used to generate unique ids."]}),"\n",(0,d.jsx)(n.p,{children:"Install the uuid library:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm install uuid\n"})}),"\n",(0,d.jsx)(n.p,{children:"The following example show how to genrate an id using the uuid library:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import { v4 as uuidv4 } from 'uuid';\nuuidv4(); // '9b1def4d-2b7d-1bad-9bdd-2b0dwa3dcb6f'\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Open the ",(0,d.jsx)(n.code,{children:"types.ts"})," file and add ",(0,d.jsx)(n.code,{children:"\xecd"})," property to the ",(0,d.jsx)(n.code,{children:"Todo"})," type:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"export type Todo = {\n  //highlight-next-line\n  id: string;\n  description: string;\n  priority: 'low' | 'medium' | 'high';\n  date: string;\n}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Import ",(0,d.jsx)(n.code,{children:"uuid"})," to the ",(0,d.jsx)(n.code,{children:"TodoList"})," component and generate unique id when new todo is added:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",metastring:'title="TodoList.tsx"',children:"import { useState } from 'react';\nimport type { Todo } from './types';\nimport TodoTable from './TodoTable';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Stack from \"@mui/material/Stack\";\n//highlight-next-line\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction TodoList() {\n  const [todo, setTodo] = useState<Todo>({id: '', description: '', priority: 'low', date: ''});\n  const [todos, setTodos] = useState<Todo[]>([]);\n  \n  const addTodo = () => {\n    if (!todo.description || !todo.date) {\n      alert(\"Enter values first!\");\n    } \n    else {\n      //highlight-next-line\n      setTodos([...todos, { ...todo, id: uuidv4()}]);\n      setTodo({id: '', description: '', priority: 'low', date: '',});\n    }\n  };\n\n  // continue...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Now, when you add a new todo, it contains a unique id field."}),"\n",(0,d.jsx)(n.h3,{id:"import-datagrid-component-and-define-columns",children:"Import DataGrid component and define columns"}),"\n",(0,d.jsxs)(n.p,{children:["Import ",(0,d.jsx)(n.code,{children:"Datagrid"})," to your ",(0,d.jsx)(n.code,{children:"TodoTable"})," component:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",metastring:'title="TodoTable.tsx"',children:"import { DataGrid } from '@mui/x-data-grid';\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Columns are defined using objects and the type of objects is ",(0,d.jsx)(n.code,{children:"GridColDef"}),", that is interface provided by ",(0,d.jsx)(n.code,{children:"DataGrid"})," (",(0,d.jsx)(n.a,{href:"https://mui.com/x/api/data-grid/",children:"https://mui.com/x/api/data-grid/"}),"). The required ",(0,d.jsx)(n.code,{children:"field"})," property is used to define where the field get its value. For example, the column with field ",(0,d.jsx)(n.code,{children:"description"})," will display the value stored in ",(0,d.jsx)(n.code,{children:"todo.description"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"// Import GirdColDef type\nimport type { GridColDef } from '@mui/x-data-grid';\n\n// Define columns\nconst columns: GridColDef[] = [\n  { field: 'description' },\n  { field: 'priority' },\n  { field: 'date' },\n]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"display-datagrid",children:"Display DataGrid"}),"\n",(0,d.jsxs)(n.p,{children:["Then, we display the ",(0,d.jsx)(n.code,{children:"DataGrid"})," component. The ",(0,d.jsx)(n.code,{children:"rows"})," prop defines where row data comes from and the value should be an array. In our case, it is the ",(0,d.jsx)(n.code,{children:"todos"})," array state that is passed to the ",(0,d.jsx)(n.code,{children:"TodoTable"})," component using ",(0,d.jsx)(n.code,{children:"props"}),". The ",(0,d.jsx)(n.code,{children:"columns"})," prop defines the column definition, and it is the ",(0,d.jsx)(n.code,{children:"columns"})," that we just created before. You have to wrap the ",(0,d.jsx)(n.code,{children:"DataGrid"})," component inside ",(0,d.jsx)(n.code,{children:"div"})," that defines the grid size. You can also use flex container with ",(0,d.jsx)(n.code,{children:"flex-direction: 'column'"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",metastring:'title="TodoTable.tsx"',children:"return(\n  <div style={{ height: 500, width: '60%', margin: 'auto' }}>\n    <DataGrid rows={props.todos} columns={columns} />\n  </div>\n)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"column-properties",children:"Column properties"}),"\n",(0,d.jsxs)(n.p,{children:["The column properties are used to define the column behavior. So far, we have only used the ",(0,d.jsx)(n.code,{children:"field"})," property in our column definitions. You can find all column properties at ",(0,d.jsx)(n.a,{href:"https://mui.com/x/react-data-grid/column-definition/",children:"https://mui.com/x/react-data-grid/column-definition/"}),". By default, column sort is enabled. Set ",(0,d.jsx)(n.code,{children:"sortable"})," property to ",(0,d.jsx)(n.code,{children:"false"})," to disable sorting on a column."]}),"\n",(0,d.jsxs)(n.p,{children:["If you type a todo with a long description, you can see that it doesn't fit to the column. The default width of column is 100px and you can change it using the ",(0,d.jsx)(n.code,{children:"width"})," property:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"// Set column width\nconst columns: GridColDef[] = [\n  { field: 'description', width: 300 },\n  { field: 'priority' },\n  { field: 'date', width: 150 },\n]\n"})}),"\n",(0,d.jsx)(n.p,{children:"Now, the todo list app look the following:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Todolist",src:t(64322).A+"",width:"1339",height:"444"})}),"\n",(0,d.jsx)(n.p,{children:"Each column headers also contain a menu that opens the column filter and other functionalities."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Todolist",src:t(45903).A+"",width:"982",height:"219"})}),"\n",(0,d.jsxs)(n.p,{children:["The column header text can be defined using the ",(0,d.jsx)(n.code,{children:"headerName"})," property. By default, the header title is derived from the ",(0,d.jsx)(n.code,{children:"field"})," property:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"// Set column width\nconst columns: GridColDef[] = [\n  { field: 'description', headerName: 'Description', width: 300 },\n  { field: 'priority', headerName: 'Priority', },\n  { field: 'date', headerName: 'Due date', width: 150 },\n]\n"})}),"\n",(0,d.jsx)(n.p,{children:"Next, we will implement delete funtionality."}),"\n",(0,d.jsx)(n.h3,{id:"delete-functionality",children:"Delete functionality"}),"\n",(0,d.jsxs)(n.p,{children:["In this phase, we will use Material Icons. If you haven't installed them yet, you can do so by following the instructions here: ",(0,d.jsx)(n.a,{href:"http://mui.com/material-ui/getting-started/installation/#icons",children:"http://mui.com/material-ui/getting-started/installation/#icons"})]}),"\n",(0,d.jsxs)(n.p,{children:["Previously, we implemented the delete functionality by using the row index. Now, we have a unique ",(0,d.jsx)(n.code,{children:"id"})," property that we can use to delete todo items. The type of the ",(0,d.jsx)(n.code,{children:"id"})," is ",(0,d.jsx)(n.code,{children:"string"}),", so we have to do some changes to our types and ",(0,d.jsx)(n.code,{children:"deleteTodo"})," function."]}),"\n",(0,d.jsxs)(n.p,{children:["Update the ",(0,d.jsx)(n.code,{children:"handleDelete"})," function to accept an ",(0,d.jsx)(n.code,{children:"id"})," parameter of type ",(0,d.jsx)(n.code,{children:"string"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="types.ts"',children:"export type TodoTableProps = {\n  todos: Todo[];\n  handleDelete: (id: string) => void;\n}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Update the ",(0,d.jsx)(n.code,{children:"deleteTodo"})," function to accept an ",(0,d.jsx)(n.code,{children:"id"})," parameter of type ",(0,d.jsx)(n.code,{children:"string"})," and use the ",(0,d.jsx)(n.code,{children:"todo.id"})," property in the ",(0,d.jsx)(n.code,{children:"filter"})," method."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="TodoList.tsx"',children:"const deleteTodo = (id: string) => {\n  setTodos(todos.filter(todo => id !== todo.id));\n};\n"})}),"\n",(0,d.jsxs)(n.p,{children:["By default, columns are assumend to show strings in ",(0,d.jsx)(n.code,{children:"DataGrid"}),". You can define column type to be ",(0,d.jsx)(n.code,{children:"actions"}),". The ",(0,d.jsx)(n.code,{children:"actions"})," column type is used to define a column that contains action buttons or icons."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="TodoTable.tsx"',children:"const columns: GridColDef[] = [\n  { field: 'description', headerName: 'Description', width: 300 },\n  { field: 'priority', headerName: 'Priority', },\n  { field: 'date', headerName: 'Due date', width: 150 },\n  {\n    field: 'actions',\n    type: 'actions',\n    headerName: 'Actions',\n    // action buttons\n  },\n]\n"})}),"\n",(0,d.jsxs)(n.p,{children:["If the column type is ",(0,d.jsx)(n.code,{children:"actions"}),", you need to provide a ",(0,d.jsx)(n.code,{children:"renderCell"})," prop that returns an array of actions available for each row (",(0,d.jsx)(n.code,{children:"React.ReactElement<GridActionsCellItemProps>[]"}),")."]}),"\n",(0,d.jsxs)(n.p,{children:["If the column type is ",(0,d.jsx)(n.code,{children:"actions"}),", you need to provide a ",(0,d.jsx)(n.code,{children:"renderCell"})," function that returns ",(0,d.jsx)(n.code,{children:"GridActionsCell"})," component with ",(0,d.jsx)(n.code,{children:"GridActionsCellItem"})," elements as children. The ",(0,d.jsx)(n.code,{children:"renderCell"})," method allows you to customize cell rendering to display components like buttons or icons instead of plain text (see ",(0,d.jsx)(n.a,{href:"https://mui.com/x/react-data-grid/column-definition/#rendering-cells",children:"https://mui.com/x/react-data-grid/column-definition/#rendering-cells"}),")."]}),"\n",(0,d.jsxs)(n.p,{children:["The type of the ",(0,d.jsx)(n.code,{children:"params"})," that is passed to ",(0,d.jsx)(n.code,{children:"renderCell"})," function is ",(0,d.jsx)(n.code,{children:"GridRenderCellParams"}),". Import ",(0,d.jsx)(n.code,{children:"GridRenderCellParams"})," from ",(0,d.jsx)(n.code,{children:"@mui/x-data-grid"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="TodoTable.tsx"',children:"const columns: GridColDef[] = [\n  { field: 'description', headerName: 'Description', width: 300 },\n  { field: 'priority', headerName: 'Priority', },\n  { field: 'date', headerName: 'Due date', width: 150 },\n  {\n    field: 'actions',\n    type: 'actions',\n    headerName: 'Actions',\n    //highlight-start\n    renderCell: (params: GridRenderCellParams) => [\n      // actions\n    ]\n    //highlight-end\n  },\n]\n"})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"params"})," object passed to ",(0,d.jsx)(n.code,{children:"renderCell"})," function includes:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"row"})," property: Contains the row model for accessing values from the current row."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"id"})," property: Provides the grid row id, which can be used for row deletion."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Next, we will implement the actions. Import the delete icon from ",(0,d.jsx)(n.code,{children:"mui/x-data-grid"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import DeleteIcon from '@mui/icons-material/Delete';\n"})}),"\n",(0,d.jsxs)(n.p,{children:["You can explore the icons available in the Material Icons library here: ",(0,d.jsx)(n.a,{href:"https://mui.com/material-ui/material-icons/",children:"https://mui.com/material-ui/material-icons/"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Next, import and display ",(0,d.jsx)(n.code,{children:"GirdActionsCell"})," and ",(0,d.jsx)(n.code,{children:"GridActionsCellItem"})," to implement actions. The ",(0,d.jsx)(n.code,{children:"icon"})," prop specifies the icon to display, and the ",(0,d.jsx)(n.code,{children:"onClick"})," event handler defines the function to execute when the action is clicked. In our case, we call ",(0,d.jsx)(n.code,{children:"handleDelete"})," function and pass todo ",(0,d.jsx)(n.code,{children:"id"})," as an argument."]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://react.dev/learn/passing-props-to-a-component#forwarding-props-with-the-jsx-spread-syntax",children:"https://react.dev/learn/passing-props-to-a-component#forwarding-props-with-the-jsx-spread-syntax"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="TodoTable.tsx"',children:"const columns: GridColDef[] = [\n  { field: 'description', headerName: 'Description', width: 300 },\n  { field: 'priority', headerName: 'Priority', },\n  { field: 'date', headerName: 'Due date', width: 150 },\n  {\n    field: 'actions',\n    type: 'actions',\n    headerName: 'Actions',\n    renderCell: (params: GridRenderCellParams) => [\n      //highlight-start\n      <GridActionsCell {...params}>\n        <GridActionsCellItem \n          icon={<DeleteIcon />} \n          onClick={() => props.handleDelete(params.id as string)} \n          label=\"Delete\" />\n      </GridActionsCell>\n    //highlight-end\n    ]\n  },\n]\n"})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"{...params}"})," in ",(0,d.jsx)(n.code,{children:"GridActionsCell"})," is so called ",(0,d.jsx)(n.strong,{children:"forwarding props"})," that is standard pattern in React. It forwards props to the ",(0,d.jsx)(n.code,{children:"GridActionsCellItem"})," components without listing each of their names. You can read more in React documentation ",(0,d.jsx)(n.a,{href:"https://react.dev/learn/passing-props-to-a-component#forwarding-props-with-the-jsx-spread-syntax",children:"here"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"Now, you can see delete icon in each row and when you click it, the row is deleted:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Todolist",src:t(73676).A+"",width:"1135",height:"400"})}),"\n",(0,d.jsxs)(n.p,{children:["If you want to show actions in row menu you can use ",(0,d.jsx)(n.code,{children:"showInMenu"})," prop:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-jsx",children:'<GridActionsCellItem \n  icon={<DeleteIcon />}\n  onClick={() => props.handleDelete(params.id as string)}\n  label="Delete"\n  showInMenu\n/>\n'})}),"\n",(0,d.jsxs)(n.p,{children:["You can read more about ",(0,d.jsx)(n.code,{children:"DataGrid"})," column types in ",(0,d.jsx)(n.a,{href:"https://mui.com/x/react-data-grid/column-definition/#column-types",children:"https://mui.com/x/react-data-grid/column-definition/#column-types"}),"."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"further-reading",children:"Further reading"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://mui.com/x/react-data-grid/",children:"https://mui.com/x/react-data-grid/"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},45903:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/todolist_filter-a3ebaa5875ce84466c0138dc4b56baca.png"},64322:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/todolist8-ea7741abb1db0f6c8cbbed8a74f40f63.png"},73676:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/todolist_delete-e9aaeacdf3c231c42790153de9440523.png"}}]);
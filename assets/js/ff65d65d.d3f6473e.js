"use strict";(self.webpackChunkfrontendcourse=self.webpackChunkfrontendcourse||[]).push([[7113],{442:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var s=r(5893),l=r(1151);const i={title:"Graph QL",sidebar_position:5},a=void 0,t={id:"extra/graphql",title:"Graph QL",description:"- GraphQL is query language for API and server-side runtime for execute queries (https://graphql.org/).",source:"@site/docs/extra/graphql.md",sourceDirName:"extra",slug:"/extra/graphql",permalink:"/frontendprogramming/docs/extra/graphql",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Graph QL",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"TypeScript",permalink:"/frontendprogramming/docs/extra/typescript"}},o={},c=[{value:"GraphQL example (SpaceX GraphQL API)",id:"graphql-example-spacex-graphql-api",level:3}];function h(e){const n={a:"a",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["GraphQL is query language for API and server-side runtime for execute queries (",(0,s.jsx)(n.a,{href:"https://graphql.org/",children:"https://graphql.org/"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"It is developed by Meta (former Facebook) and it is open source since 2016."}),"\n",(0,s.jsx)(n.li,{children:"GraphQL use schemas to describe the complete data."}),"\n",(0,s.jsx)(n.li,{children:"You can query exactly what you need using GraphQL queries."}),"\n",(0,s.jsx)(n.li,{children:"GraphQL API has typically one endpoint for all query calls (vs. Rest API multiple endpoints for different data)."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For example, if we have ",(0,s.jsx)(n.code,{children:"user"})," data object in a server we can make the following query. You can specify the fields you want to retrieve for the user:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"{\n  user {\n    username,\n    email,\n    phone\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The query returns data as JSON objects:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "user": {\n      "username": "john",\n      "email": "john@mail.com",\n      "phone": "123456"\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You can also specify query arguments for example, where id = 1."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"{\n  user(id: 1) {\n    username,\n    email,\n    phone\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Read more about GraphQL queries ",(0,s.jsx)(n.a,{href:"https://graphql.org/learn/queries/",children:"https://graphql.org/learn/queries/"})]}),"\n",(0,s.jsxs)(n.li,{children:["Download GraphQL IDE like ",(0,s.jsx)(n.strong,{children:"GraphQL Playground"})," (",(0,s.jsx)(n.a,{href:"https://github.com/prisma-labs/graphql-playground",children:"https://github.com/prisma-labs/graphql-playground"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["You can use that to explore GraphQL APIs (Schema, Docs) and execute queries.\n",(0,s.jsx)(n.img,{alt:"GraphQL Playground",src:r(6788).Z+"",width:"469",height:"266"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"graphql-example-spacex-graphql-api",children:"GraphQL example (SpaceX GraphQL API)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://spacex-production.up.railway.app/",children:"https://spacex-production.up.railway.app/"})}),"\n",(0,s.jsx)(n.li,{children:"GraphQL query to get 10 past launches (mission name, date, site) from the API:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n  launchesPast(limit: 10) {\n    mission_name\n    launch_date_local\n    launch_site {\n      site_name_long\n    }\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You can test the query using the GraphQL playground.\n",(0,s.jsx)(n.img,{alt:"GraphQL playground",src:r(5710).Z+"",width:"1886",height:"591"})]}),"\n",(0,s.jsx)(n.li,{children:"Create a new React app using the Vite."}),"\n",(0,s.jsxs)(n.li,{children:["Install the Apollo Client (",(0,s.jsx)(n.a,{href:"https://www.apollographql.com",children:"https://www.apollographql.com"}),"):"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @apollo/client graphql\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Apollo Client is the library that you can use to make requests using the GraphQL queries."}),"\n",(0,s.jsxs)(n.li,{children:["Add the following imports to the ",(0,s.jsx)(n.strong,{children:"main.jsx"})," file:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="main.jsx"',children:'import {\n  ApolloClient,\n  ApolloProvider,\n  InMemoryCache,\n} from "@apollo/client";\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Initialize Apollo client in your ",(0,s.jsx)(n.strong,{children:"main.jsx"})," file using the uri of the GraphQL jobs API. The ",(0,s.jsx)(n.code,{children:"cache"})," property is used to store resultset locally:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="main.jsx"',children:"const client = new ApolloClient({\n  uri: 'https://spacex-production.up.railway.app/',\n  cache: new InMemoryCache()\n});\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Then, we will wrap our ",(0,s.jsx)(n.code,{children:"App"})," with an ",(0,s.jsx)(n.code,{children:"ApolloProvider"})," component:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",metastring:'title="main.jsx"',children:"ReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Now, we can start to use Apollo client in our ",(0,s.jsx)(n.code,{children:"App"})," component. First, add the following import:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import {\n  useQuery,\n  gql,\n} from "@apollo/client";\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"gql"})," is used to define GraphQL query strings."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"useQuery"})," hook is used to execute GraphQL queries."]}),"\n",(0,s.jsx)(n.li,{children:"Next, we will define the query string to retrieve 10 SpaceX launches from the past."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="App.jsx"',children:"const GET_LAUNCHES = gql`\n  query GetLaunches {\n    launchesPast(limit: 10) {\n      mission_name\n      launch_date_local\n    }\n  }\n`;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Then, we can execute the query using the ",(0,s.jsx)(n.code,{children:"useQuery"})," hook by passing the query string as an argument:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="App.jsx"',children:"const { loading, error, data } = useQuery(GET_LAUNCHES);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"loading"})," is ",(0,s.jsx)(n.code,{children:"true"})," when query is finished and resultset is available in the ",(0,s.jsx)(n.code,{children:"data"}),". That can be used in conditional rendering."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",metastring:'title="App.jsx"',children:"if (loading) return <p>Loading...</p>;\nelse if (error) return <p>Error...</p>\nelse {\n  return (\n    <table>\n      <tbody>\n        {data.launchesPast.map((launch, index) =>\n          <tr key={index}>\n            <td>{launch.mission_name}</td>\n            <td>{launch.launch_date_local}</td>\n          </tr>)}\n      </tbody>\n    </table>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Now, your ",(0,s.jsx)(n.code,{children:"App"})," component should look like the following screenshot:\n",(0,s.jsx)(n.img,{alt:"SpaceX API",src:r(6555).Z+"",width:"639",height:"484"})]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},6555:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/appjs-ff61242d8078923c083fd7c48b5d058b.PNG"},6788:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/playground-143addbf012ad0e96755351bfb2db2ec.png"},5710:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/playground1-d5e9cc524b7c6f00c7e22d333310b9e8.png"},1151:(e,n,r)=>{r.d(n,{Z:()=>t,a:()=>a});var s=r(7294);const l={},i=s.createContext(l);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);